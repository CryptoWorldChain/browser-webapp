{"version":3,"sources":["webpack:///src/components/block/Block.vue","webpack:///./src/components/block/Block.vue?fcf9","webpack:///./src/components/block/Block.vue"],"names":["Table","iview","this","block","mount_data","_this","then","res","header","err","_this2","start","stop","blockHash","transactions","key","height","parentHash","val","block_Block","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","blockinfo","attrs","to","path","staticStyle","padding-right","_l","item","index","name","class","on","click","$event","onClicks","directives","rawName","value","expression","margin-right","Another","timeago","format","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","Block","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.a39dd2df3c73af0f3893.js","sourcesContent":["<template>\n    <div class=\"node-list\">\n        <!-- sdsafiiiidasda -->\n        <!-- <Table class=\"table-list\" @on-row-click=\"rowClick\" :columns=\"columns1\" :data=\"data1\"></Table> -->\n        <div class=\"nav-block\">\n          <div class=\"nav-block-inner wrapper clear\">\n            <div class=\"float-left\">\n              Block:  {{blockinfo.height}}\n            </div>\n            <div class=\"float-right\">\n              <router-link :to=\"{path:'/'}\">home</router-link> / Block\n            </div>\n          </div>\n        </div>\n        <div class=\"block-info\">\n            <div class=\"block-title\">\n                Block Information\n                <div class=\"float-right\">\n                    <router-link  style=\"padding-right: 20px;\" :to=\"{path:'/'}\">Back To Home</router-link>\n                </div>\n            </div>\n            <div class=\"infomation\">\n                <p v-for=\"(item,index) in height_title\" :key=\"index\">\n                    <span class=\"sp1\">{{ item.name}} :</span>\n                    <span :class=\"item.key=='parentHash'|| item.key=='txCount'?'span-click':''\" \n                        @click=\"item.key=='parentHash'|| item.key=='txCount'?onClicks(blockinfo,item.key):''\"\n                    >\n                        <span v-show=\"item.key =='height' && blockinfo[item.key] >1 \" @click=\"Another(blockinfo[item.key]-1)\" style=\"margin-right:20px;\" class=\"button_span\"> Prev </span>\n                        <span v-show=\"item.key =='timestamp'\" >{{ timeago().format(blockinfo[item.key]) }}</span>\n                        <span v-show=\"item.key !='timestamp'\" >{{blockinfo[item.key]}}</span>\n                        <span style=\"margin-left:20px;\" @click=\"Another(blockinfo[item.key]+1)\" v-show=\"item.key =='height'\" class=\"button_span\"> Next </span>\n                    </span>\n                </p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {Table} from \"iview\";\nimport {Message} from \"../message/message.js\";\nimport bus from '../bus/bus';\n    export default {\n        components:{\n            Table\n        },\n        data() {\n            return {\n                \n                height_title:[\n                    {\n                        name : \"Height\",\n                        key: 'height',\n                    },\n                    {\n                        name:\"TimeStamp\",\n                        key: 'timestamp',\n                    },\n                    {\n                        name:\"Transactions\",\n                        key: 'txCount',\n                    },\n                    {\n                        name:\"BlockHash\",\n                        key: 'blockHash',\n                    },\n                    {\n                        name:\"ParentHash\",\n                        key: 'parentHash',\n                    },\n                    {\n                        name:\"Coinbase\",\n                        key: 'coinbase',\n                    }\n                ],\n                blockinfo:{\n                },\n                txcountinfo:[],\n                lastBlock:{}\n            }\n        },\n        created () {\n            var that = this;\n            bus.$on('getLastBlock',function (block) {\n                if (block.height) {\n                    that.lastBlock = block;\n                }\n            })\n        },\n        mounted(){\n            this.mount_data();\n        },\n        watch:{\n            \"$route\":\"route\"\n        },\n        methods:{\n            route(){\n                this.mount_data();\n            },\n            initLatest () {\n                axios({\n                    method:'post',\n                    url:'/block/blk/pbgtb.do'\n                }).then((res) => {\n                    if (res.status == 200 && res.data.retCode == 1) {\n                        this.lastBlock = res.data.block.header;\n                    } \n                }).catch((err) => {\n                    console.warn('err',err);\n                    // this.block = {};\n                })\n            },\n            mount_data(){\n                // this.initLatest();\n                let that=this;\n                if (this.$route.query.block > this.lastBlock.height) {\n                    this.message.warning('已经是最新区块。');\n                    return false;\n                }\n                this.spinner.start();\n                if(this.$route.query.block){\n                    axios({\n                        method:\"post\",\n                        url:\"/block/blk/pbghe.do\",\n                        data:{\n                            blockHeight:this.$route.query.block\n                        }\n                    }).then((res)=>{\n                        this.spinner.stop();\n                        if(res.status==\"200\" && res.data && res.data.block && res.data.block.header){\n                            if(res.data.block.header){\n                                that.blockinfo = res.data.block.header;\n                                that.blockinfo.txCount = that.blockinfo.txCount + ' transactions';\n                            }else{\n                                Message.error(\"暂无区块信息\",3)\n                            }\n                            // if(res.data.block.body && res.data.block.body.transactions){\n                            //     that.txcountinfo=res.data.block.body.transactions;\n                            // }\n                            \n                        }else {\n                            that.message.error('没有获取到区块详情');\n                        }\n                    }).catch((err) => {\n                        this.spinner.stop();\n                        that.message.error('没有获取到区块详情');\n                    })\n                }else if(this.$route.query.blockHash){\n                    axios({\n                        method:\"post\",\n                        url:\"/block/blk/pbgha.do\",\n                        data:{\n                            blockHash:this.$route.query.blockHash\n                        }\n                    }).then((res)=>{\n                        this.spinner.stop();\n                        console.log(res)\n                        if(res.status==\"200\" && res.data && res.data.block){\n                            if(res.data.block.header){\n                                that.blockinfo = res.data.block.header;\n                                that.blockinfo.txCount = that.blockinfo.txCount + ' transactions';\n                            }\n                            if(res.data.block.body && res.data.block.body.transactions){\n                                that.txcountinfo=res.data.block.body.transactions;\n                            }\n                        }\n                    }).catch((err)=>{\n                        this.spinner.stop();\n                    })\n                }else {\n                    this.spinner.stop();\n                }\n                \n            },\n            onClicks(val,key){\n                console.log(val+\"---\",key)\n                if(key == \"txCount\"){\n                    this.$router.push({\n                            path: '/transaction',\n                            name:\"Transaction\",\n                            query:{\n                                height:val.height,\n                                // obj:JSON.stringify(this.txcountinfo)\n                            }\n                    });\n                }\n                if(key == \"parentHash\"){\n                    this.$router.push({path: '/block',query:{\n                        blockHash:val.parentHash\n                    }});\n                }\n                // if(key == \"minedBy\"){\n                //   // this.mount_data();\n                //   console.log(val.minedBy)\n                //   this.$router.push(\"/address/\"+val.minedBy)\n                // }\n            },\n            Another(val){\n                // console.log(val);\n                if (val > this.lastBlock.height) {\n                    this.message.warning('已经是最新区块。');\n                    return false;\n                }\n                this.$router.push({path: '/block',query:{\n                    block:val\n                }});\n            }\n        }\n    }\n</script>\n<style lang=\"less\">\n.node-list{\n    // padding-top:30px;\n    min-width: 1360px;\n    // background: #002134;\n    color:#969ca1;\n    .block-info{\n        width:1200px;\n        min-width:1200px;\n        min-height:300px;\n        margin: 0 auto;\n        border:1px solid #3b4b54;\n        .block-title{\n            background: #002134;\n            line-height: 40px;\n            border-bottom:1px solid #3b4b54;\n            padding-left:20px;\n        }\n        .infomation{\n            padding-left:20px;\n            p{\n                line-height: 40px;\n                .sp1{\n                    display: inline-block;\n                    width:200px;\n                }\n                .span-click{\n                    color:#9eeff3;\n                    \n                }\n                .span-click:hover{\n                    cursor:pointer;\n                    // text-decoration: underline;\n                    border-bottom:1px solid #9eeff3;\n                }\n                .button_span{\n                  display: inline-block;\n                  width:50px;\n                  height:20px;\n                  line-height: 20px;\n                  text-align: center;\n                  background: #002134;\n                  color: #9eeff3;\n                }\n                .button_span:hover{\n                  cursor:pointer;\n                }\n            }\n        }\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/block/Block.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-list\"},[_c('div',{staticClass:\"nav-block\"},[_c('div',{staticClass:\"nav-block-inner wrapper clear\"},[_c('div',{staticClass:\"float-left\"},[_vm._v(\"\\n          Block:  \"+_vm._s(_vm.blockinfo.height)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"float-right\"},[_c('router-link',{attrs:{\"to\":{path:'/'}}},[_vm._v(\"home\")]),_vm._v(\" / Block\\n        \")],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"block-info\"},[_c('div',{staticClass:\"block-title\"},[_vm._v(\"\\n            Block Information\\n            \"),_c('div',{staticClass:\"float-right\"},[_c('router-link',{staticStyle:{\"padding-right\":\"20px\"},attrs:{\"to\":{path:'/'}}},[_vm._v(\"Back To Home\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"infomation\"},_vm._l((_vm.height_title),function(item,index){return _c('p',{key:index},[_c('span',{staticClass:\"sp1\"},[_vm._v(_vm._s(item.name)+\" :\")]),_vm._v(\" \"),_c('span',{class:item.key=='parentHash'|| item.key=='txCount'?'span-click':'',on:{\"click\":function($event){item.key=='parentHash'|| item.key=='txCount'?_vm.onClicks(_vm.blockinfo,item.key):''}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.key =='height' && _vm.blockinfo[item.key] >1 ),expression:\"item.key =='height' && blockinfo[item.key] >1 \"}],staticClass:\"button_span\",staticStyle:{\"margin-right\":\"20px\"},on:{\"click\":function($event){_vm.Another(_vm.blockinfo[item.key]-1)}}},[_vm._v(\" Prev \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.key =='timestamp'),expression:\"item.key =='timestamp'\"}]},[_vm._v(_vm._s(_vm.timeago().format(_vm.blockinfo[item.key])))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.key !='timestamp'),expression:\"item.key !='timestamp'\"}]},[_vm._v(_vm._s(_vm.blockinfo[item.key]))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.key =='height'),expression:\"item.key =='height'\"}],staticClass:\"button_span\",staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":function($event){_vm.Another(_vm.blockinfo[item.key]+1)}}},[_vm._v(\" Next \")])])])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29a2deb5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/block/Block.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29a2deb5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Block.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Block.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Block.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29a2deb5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Block.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/block/Block.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}