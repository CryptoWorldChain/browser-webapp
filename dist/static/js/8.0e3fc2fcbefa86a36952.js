webpackJsonp([8],{"/UaX":function(t,e){},"16ax":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("BTaQ"),o={components:{Table:n.Table,Page:n.Page},data:function(){var t=this;return{totalPage:0,pageSize:10,pageNo:1,blocks:[],columns1:[{title:"height",key:"height",className:"link",render:function(e,a){return e("a",{on:{click:function(){t.toblock(a)}}},a.row.height)}},{title:"Block Hash",key:"blockHash",className:"link",render:function(e,a){return e("a",{on:{class:"link",click:function(){t.$router.push({path:"/block",query:{blockHash:a.row.blockHash}})}}},a.row.blockHash)}},{title:"Age",key:"age",className:"text-color",render:function(t,e){return t("span",e.row.age)}},{title:"txn",key:"txCount",className:"link",render:function(e,a){return e("a",{on:{click:function(){t.totxn(a)}}},a.row.txCount)}},{title:"Reward",className:"text-color",key:"reward",render:function(t,e){return t("span",parseFloat(e.row.reward))}}]}},mounted:function(){this.initBlocks()},methods:{totxn:function(t){var e=t.row;this.$router.push({path:"/transaction",query:{height:e.height}})},toblock:function(t){var e=t.row;t.index,t.column;e&&e.height&&this.$router.push({path:"/block/?block="+e.height})},initBlocks:function(t,e){var a=this;this.spinner.start(),t||(t=10),e||(e=1),axios.post("/block/blk/pbgbb.do",{pageSize:t,pageNo:e}).then(function(t){a.spinner.stop(),200==t.status&&1==t.data.retCode&&t.data.blocks&&t.data.blocks.length&&(a.totalPage||(a.totalPage=t.data.blocks[0].header.height),a.blocks=t.data.blocks.map(function(t,e){var n=t.header,o=(new Date).getTime(),s=Math.floor((o-n.timestamp)/1e3);return n.age=s<=10?s+"s ago":a.timeago().format(n.timestamp),n}))}).catch(function(t){a.spinner.stop(),console.log("errr",t),a.message.error("网络请求错误，请稍后重试")})},changePage:function(t){var e=this.pageSize;this.initBlocks(e,t)}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block-list wrapper"},[e("Table",{staticClass:"table-list",attrs:{columns:this.columns1,data:this.blocks}}),this._v(" "),e("div",{staticClass:"pager"},[e("div",{staticClass:"pager-inner"},[e("Page",{attrs:{total:this.totalPage},on:{"on-change":this.changePage}})],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(o,s,!1,function(t){a("/UaX")},null,null);e.default=r.exports}});
//# sourceMappingURL=8.0e3fc2fcbefa86a36952.js.map