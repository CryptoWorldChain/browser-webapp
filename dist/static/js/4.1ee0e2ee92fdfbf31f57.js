webpackJsonp([4],{"16ax":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("BTaQ"),o={components:{Table:n.Table,Page:n.Page},data:function(){var t=this;return{totalPage:0,pageSize:10,pageNo:1,blocks:[],columns1:[{title:"height",key:"height",className:"link",width:150,render:function(e,a){return e("a",{on:{click:function(){t.toblock(a)}}},a.row.height)}},{title:"Block Hash",key:"blockHash",className:"link",width:540,render:function(e,a){return e("a",{on:{class:"link",click:function(){t.$router.push({path:"/block",query:{blockHash:a.row.blockHash}})}}},a.row.blockHash)}},{title:"Age",key:"age",className:"text-color",render:function(t,e){return t("span",e.row.age)}},{title:"txn",key:"txCount",className:"link",render:function(e,a){return e("a",{on:{click:function(){t.totxn(a)}}},a.row.txCount)}},{title:"Reward",className:"text-color",key:"reward",render:function(t,e){return t("span",parseFloat(e.row.miner.reward))}}]}},mounted:function(){this.initBlocks()},methods:{totxn:function(t){var e=t.row;this.$router.push({path:"/transaction",query:{height:e.height}})},toblock:function(t){var e=t.row;t.index,t.column;e&&e.height&&this.$router.push({path:"/block/?block="+e.height})},initBlocks:function(t,e){var a=this;this.spinner.start(),t||(t=10),e||(e=1),axios.post("/block/blk/pbgbb.do",{pageSize:t,pageNo:e}).then(function(t){a.spinner.stop(),200==t.status&&1==t.data.retCode&&t.data.blocks&&t.data.blocks.length?(a.totalPage=t.data.totalCount,a.blocks=t.data.blocks.map(function(t,e){var n=t.header,o=(new Date).getTime(),s=Math.floor((o-n.timestamp)/1e3);return n.age=s<=10?s+"s ago":a.timeago().format(n.timestamp),n})):a.message.warning("Unable to locate block")}).catch(function(t){a.spinner.stop(),console.log("errr",t),a.message.error("connection failed, please try again later")})},changePage:function(t){var e=this.pageSize;this.initBlocks(e,t)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-list"},[a("div",{staticClass:"nav-block"},[a("div",{staticClass:"nav-block-inner wrapper clear"},[a("div",{staticClass:"float-left"},[t._v("\n          Blocks\n        ")]),t._v(" "),a("div",{staticClass:"float-right"},[a("router-link",{attrs:{to:{path:"/"}}},[t._v("home")]),t._v(" / Blocks\n        ")],1)])]),t._v(" "),a("div",{staticClass:"wrapper"},[a("Table",{staticClass:"table-list",attrs:{columns:t.columns1,data:t.blocks}}),t._v(" "),a("div",{staticClass:"pager"},[a("div",{staticClass:"pager-inner"},[a("Page",{attrs:{total:t.totalPage},on:{"on-change":t.changePage}})],1)])],1)])},staticRenderFns:[]};var i=a("VU/8")(o,s,!1,function(t){a("DHmJ")},null,null);e.default=i.exports},DHmJ:function(t,e){}});
//# sourceMappingURL=4.1ee0e2ee92fdfbf31f57.js.map