webpackJsonp([7],{"16ax":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("BTaQ"),o={components:{Table:n.Table,Page:n.Page},data:function(){var t=this;return{totalPage:0,pageSize:10,pageNo:1,blocks:[],columns1:[{title:"height",key:"height",className:"link",render:function(a,e){return a("a",{on:{click:function(){t.toblock(e)}}},e.row.height)}},{title:"Block Hash",key:"blockHash",className:"link",render:function(a,e){return a("a",{on:{class:"link",click:function(){t.$router.push({path:"/block",query:{blockHash:e.row.blockHash}})}}},e.row.blockHash)}},{title:"Age",key:"age",className:"text-color",render:function(t,a){return t("span",a.row.age)}},{title:"txn",key:"txCount",className:"link",render:function(a,e){return a("a",{on:{click:function(){t.totxn(e)}}},e.row.txCount)}},{title:"Reward",className:"text-color",key:"reward",render:function(t,a){return t("span",parseFloat(a.row.reward))}}]}},mounted:function(){this.initBlocks()},methods:{totxn:function(t){var a=t.row;this.$router.push({path:"/transaction",query:{height:a.height}})},toblock:function(t){var a=t.row;t.index,t.column;a&&a.height&&this.$router.push({path:"/block/?block="+a.height})},initBlocks:function(t,a){var e=this;this.spinner.start(),t||(t=10),a||(a=1),axios.post("/block/blk/pbgbb.do",{pageSize:t,pageNo:a}).then(function(t){e.spinner.stop(),200==t.status&&1==t.data.retCode&&t.data.blocks&&t.data.blocks.length?(e.totalPage=t.data.totalCount,e.blocks=t.data.blocks.map(function(t,a){var n=t.header,o=(new Date).getTime(),s=Math.floor((o-n.timestamp)/1e3);return n.age=s<=10?s+"s ago":e.timeago().format(n.timestamp),n})):e.message.warning("Unable to locate block")}).catch(function(t){e.spinner.stop(),console.log("errr",t),e.message.error("connection failed, please try again later")})},changePage:function(t){var a=this.pageSize;this.initBlocks(a,t)}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"block-list"},[e("div",{staticClass:"nav-block"},[e("div",{staticClass:"nav-block-inner wrapper clear"},[e("div",{staticClass:"float-left"},[t._v("\n          Blocks\n        ")]),t._v(" "),e("div",{staticClass:"float-right"},[e("router-link",{attrs:{to:{path:"/"}}},[t._v("home")]),t._v(" / Blocks\n        ")],1)])]),t._v(" "),e("div",{staticClass:"wrapper"},[e("Table",{staticClass:"table-list",attrs:{columns:t.columns1,data:t.blocks}}),t._v(" "),e("div",{staticClass:"pager"},[e("div",{staticClass:"pager-inner"},[e("Page",{attrs:{total:t.totalPage},on:{"on-change":t.changePage}})],1)])],1)])},staticRenderFns:[]};var r=e("VU/8")(o,s,!1,function(t){e("T+qH")},null,null);a.default=r.exports},"T+qH":function(t,a){}});
//# sourceMappingURL=7.772fb5491adab46681d6.js.map