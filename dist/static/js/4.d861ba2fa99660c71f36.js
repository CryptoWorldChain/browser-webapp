webpackJsonp([4],{W63w:function(t,e){},nTNF:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("BTaQ"),n=o("uL3Z"),s=o("qSuq"),i={components:{Table:a.Table},data:function(){return{height_title:[{name:"Height",key:"height"},{name:"TimeStamp",key:"timestamp"},{name:"Transactions",key:"txCount"},{name:"BlockHash",key:"blockHash"},{name:"ParentHash",key:"parentHash"},{name:"Mined By",key:"address"},{name:"Reward",key:"reward"}],blockinfo:{},txcountinfo:[],lastBlock:{}}},created:function(){var t=this;s.a.$on("getLastBlock",function(e){e.height&&(t.lastBlock=e)})},mounted:function(){this.mount_data()},watch:{$route:"route"},methods:{route:function(){this.mount_data()},initLatest:function(){var t=this;axios({method:"post",url:"/block/blk/pbgtb.do"}).then(function(e){200==e.status&&1==e.data.retCode&&(t.lastBlock=e.data.block.header)}).catch(function(t){console.warn("err",t)})},mount_data:function(){var t=this,e=this;if(this.$route.query.block>this.lastBlock.height)return this.message.warning("Unable to locate block "+this.$route.query.block),!1;this.spinner.start(),this.$route.query.block||"0"==this.$route.query.block?axios({method:"post",url:"/block/blk/pbghe.do",data:{blockHeight:this.$route.query.block}}).then(function(o){t.spinner.stop(),"200"==o.status&&o.data&&o.data.block&&o.data.block.header?o.data.block.header?(e.blockinfo=o.data.block.header,e.blockinfo.txCount=e.blockinfo.txCount+" transactions",e.blockinfo.miner&&e.blockinfo.miner.address&&(e.blockinfo.address=e.blockinfo.miner.address),e.blockinfo.reward=parseFloat(e.blockinfo.miner.reward)||0):n.a.error("Unable to locate block",3):e.message.error("Unable to locate block")}).catch(function(o){t.spinner.stop(),e.message.error("Unable to locate block")}):this.$route.query.blockHash?axios({method:"post",url:"/block/blk/pbgha.do",data:{blockHash:this.$route.query.blockHash}}).then(function(o){t.spinner.stop(),console.log(o),"200"==o.status&&o.data&&o.data.block&&(o.data.block.header&&(e.blockinfo=o.data.block.header,e.blockinfo.txCount=e.blockinfo.txCount+" transactions"),o.data.block.body&&o.data.block.body.transactions&&(e.txcountinfo=o.data.block.body.transactions),e.blockinfo.miner&&e.blockinfo.miner.address&&(e.blockinfo.address=e.blockinfo.miner.address),e.blockinfo.reward=parseFloat(e.blockinfo.miner.reward)||"0")}).catch(function(e){t.spinner.stop()}):this.spinner.stop()},onClicks:function(t,e){console.log(t+"---",e),"txCount"==e&&this.$router.push({path:"/transaction",name:"Transaction",query:{height:t.height}}),"parentHash"==e&&this.$router.push({path:"/block",query:{blockHash:t.parentHash}})},Another:function(t){if(!(t<0))return t>this.lastBlock.height?(this.message.warning("Unable to locate block "+t),!1):void this.$router.push({path:"/block",query:{block:t}})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"node-list"},[o("div",{staticClass:"nav-block"},[o("div",{staticClass:"nav-block-inner wrapper clear"},[o("div",{staticClass:"float-left"},[t._v("\n          Block:  "+t._s(t.blockinfo.height)+"\n        ")]),t._v(" "),o("div",{staticClass:"float-right"},[o("router-link",{attrs:{to:{path:"/"}}},[t._v("home")]),t._v(" / Block\n        ")],1)])]),t._v(" "),o("div",{staticClass:"block-info"},[o("div",{staticClass:"block-title"},[t._v("\n            Block Information\n            "),o("div",{staticClass:"float-right"},[o("router-link",{staticStyle:{"padding-right":"20px"},attrs:{to:{path:"/"}}},[t._v("Back To Home")])],1)]),t._v(" "),o("div",{staticClass:"infomation"},t._l(t.height_title,function(e,a){return o("p",{key:a},[o("span",{staticClass:"sp1"},[t._v(t._s(e.name)+" :")]),t._v(" "),o("span",{class:"parentHash"==e.key||"txCount"==e.key?"span-click":"",on:{click:function(o){("parentHash"==e.key||"txCount"==e.key)&&t.onClicks(t.blockinfo,e.key)}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:"height"==e.key&&t.blockinfo[e.key]>=0,expression:"item.key =='height' && blockinfo[item.key] >= 0"}],class:{button_span:!0,disabled:0==t.blockinfo.height},staticStyle:{"margin-right":"20px"},on:{click:function(o){t.Another(t.blockinfo[e.key]-1)}}},[t._v(" Prev ")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"timestamp"==e.key,expression:"item.key =='timestamp'"}]},[t._v(t._s(t.timeago().format(t.blockinfo[e.key])))]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"address"!=e.key&&"reward"!=e.key&&"timestamp"!=e.key,expression:"item.key != 'address' && item.key != 'reward' && item.key != 'timestamp'"}]},[t._v(t._s(t.blockinfo[e.key]))]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"height"==e.key,expression:"item.key =='height'"}],staticClass:"button_span",staticStyle:{"margin-left":"20px"},on:{click:function(o){t.Another(t.blockinfo[e.key]+1)}}},[t._v(" Next ")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"address"==e.key,expression:"item.key == 'address'"}]},[o("router-link",{staticClass:"link",staticStyle:{color:"#9eeff3"},attrs:{to:{path:"/address/"+t.blockinfo.address}}},[t._v("\n                          "+t._s(t.blockinfo.address)+"\n                      ")])],1),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:"reward"==e.key,expression:"item.key == 'reward'"}]},[t._v("\n                      "+t._s(t.blockinfo[e.key])+"\n                  ")])])])}))])])},staticRenderFns:[]};var c=o("VU/8")(i,r,!1,function(t){o("W63w")},null,null);e.default=c.exports}});
//# sourceMappingURL=4.d861ba2fa99660c71f36.js.map