webpackJsonp([3],{nTNF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("BTaQ"),n=a("uL3Z"),s=a("qSuq"),i={components:{Table:o.Table},data:function(){return{height_title:[{name:"Height",key:"height"},{name:"TimeStamp",key:"timestamp"},{name:"Transactions",key:"txCount"},{name:"BlockHash",key:"blockHash"},{name:"ParentHash",key:"parentHash"},{name:"Coinbase",key:"coinbase"}],blockinfo:{},txcountinfo:[],lastBlock:{}}},created:function(){var t=this;s.a.$on("getLastBlock",function(e){e.height&&(t.lastBlock=e)})},mounted:function(){this.mount_data()},watch:{$route:"route"},methods:{route:function(){this.mount_data()},initLatest:function(){var t=this;axios({method:"post",url:"/block/blk/pbgtb.do"}).then(function(e){200==e.status&&1==e.data.retCode&&(t.lastBlock=e.data.block.header)}).catch(function(t){console.warn("err",t)})},mount_data:function(){var t=this,e=this;if(this.$route.query.block>this.lastBlock.height)return this.message.warning("已经是最新区块。"),!1;this.spinner.start(),this.$route.query.block?axios({method:"post",url:"/block/blk/pbghe.do",data:{blockHeight:this.$route.query.block}}).then(function(a){t.spinner.stop(),"200"==a.status&&a.data&&a.data.block&&a.data.block.header?a.data.block.header?(e.blockinfo=a.data.block.header,e.blockinfo.txCount=e.blockinfo.txCount+" transactions"):n.a.error("暂无区块信息",3):e.message.error("没有获取到区块详情")}).catch(function(a){t.spinner.stop(),e.message.error("没有获取到区块详情")}):this.$route.query.blockHash?axios({method:"post",url:"/block/blk/pbgha.do",data:{blockHash:this.$route.query.blockHash}}).then(function(a){t.spinner.stop(),console.log(a),"200"==a.status&&a.data&&a.data.block&&(a.data.block.header&&(e.blockinfo=a.data.block.header,e.blockinfo.txCount=e.blockinfo.txCount+" transactions"),a.data.block.body&&a.data.block.body.transactions&&(e.txcountinfo=a.data.block.body.transactions))}).catch(function(e){t.spinner.stop()}):this.spinner.stop()},onClicks:function(t,e){console.log(t+"---",e),"txCount"==e&&this.$router.push({path:"/transaction",name:"Transaction",query:{height:t.height}}),"parentHash"==e&&this.$router.push({path:"/block",query:{blockHash:t.parentHash}})},Another:function(t){if(t>this.lastBlock.height)return this.message.warning("已经是最新区块。"),!1;this.$router.push({path:"/block",query:{block:t}})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"node-list"},[a("div",{staticClass:"nav-block"},[a("div",{staticClass:"nav-block-inner wrapper clear"},[a("div",{staticClass:"float-left"},[t._v("\n          Block:  "+t._s(t.blockinfo.height)+"\n        ")]),t._v(" "),a("div",{staticClass:"float-right"},[a("router-link",{attrs:{to:{path:"/"}}},[t._v("home")]),t._v(" / Block\n        ")],1)])]),t._v(" "),a("div",{staticClass:"block-info"},[a("div",{staticClass:"block-title"},[t._v("\n            Block Information\n            "),a("div",{staticClass:"float-right"},[a("router-link",{staticStyle:{"padding-right":"20px"},attrs:{to:{path:"/"}}},[t._v("Back To Home")])],1)]),t._v(" "),a("div",{staticClass:"infomation"},t._l(t.height_title,function(e,o){return a("p",{key:o},[a("span",{staticClass:"sp1"},[t._v(t._s(e.name)+" :")]),t._v(" "),a("span",{class:"parentHash"==e.key||"txCount"==e.key?"span-click":"",on:{click:function(a){("parentHash"==e.key||"txCount"==e.key)&&t.onClicks(t.blockinfo,e.key)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:"height"==e.key&&t.blockinfo[e.key]>=0,expression:"item.key =='height' && blockinfo[item.key] >= 0"}],staticClass:"button_span",staticStyle:{"margin-right":"20px"},on:{click:function(a){t.Another(t.blockinfo[e.key]-1)}}},[t._v(" Prev ")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"timestamp"==e.key,expression:"item.key =='timestamp'"}]},[t._v(t._s(t.timeago().format(t.blockinfo[e.key])))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"timestamp"!=e.key,expression:"item.key !='timestamp'"}]},[t._v(t._s(t.blockinfo[e.key]))]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"height"==e.key,expression:"item.key =='height'"}],staticClass:"button_span",staticStyle:{"margin-left":"20px"},on:{click:function(a){t.Another(t.blockinfo[e.key]+1)}}},[t._v(" Next ")])])])}))])])},staticRenderFns:[]};var r=a("VU/8")(i,c,!1,function(t){a("wUDd")},null,null);e.default=r.exports},wUDd:function(t,e){}});
//# sourceMappingURL=3.5bc5232fa1d2ef43c4cc.js.map